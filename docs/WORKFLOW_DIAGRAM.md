# GitHub Actions Workflow Diagram

Visual guide to understand how the automated deployment works.

## ðŸ”„ Complete Workflow Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Developer Workflow                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Developer                    GitHub                    Azure
       â”‚                           â”‚                         â”‚
       â”‚   1. Create Branch        â”‚                         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
       â”‚                           â”‚                         â”‚
       â”‚   2. Make Changes         â”‚                         â”‚
       â”‚   (Terraform files)       â”‚                         â”‚
       â”‚                           â”‚                         â”‚
       â”‚   3. Create Pull Request  â”‚                         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                   â”‚
       â”‚                      â”‚ Workflow â”‚                   â”‚
       â”‚                      â”‚ Trigger  â”‚                   â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                   â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
       â”‚                      â”‚  Validation  â”‚               â”‚
       â”‚                      â”‚  - Format    â”‚               â”‚
       â”‚                      â”‚  - Validate  â”‚               â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
       â”‚                      â”‚   Security    â”‚              â”‚
       â”‚                      â”‚   - Checkov   â”‚              â”‚
       â”‚                      â”‚   - tfsec     â”‚              â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
       â”‚                      â”‚ Cost          â”‚              â”‚
       â”‚                      â”‚ Estimation    â”‚              â”‚
       â”‚                      â”‚ (Infracost)   â”‚              â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
       â”‚                      â”‚  Plan (Dev)   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                      â”‚               â”‚   Login       â”‚
       â”‚                      â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                      â”‚               â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                      â”‚               â”‚  Terraform    â”‚
       â”‚                      â”‚               â”‚    Plan       â”‚
       â”‚                      â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   Results     â”‚
       â”‚                           â”‚                         â”‚
       â”‚   4. Review Comments      â”‚                         â”‚
       â”‚   - Plan results          â”‚                         â”‚
       â”‚   - Cost estimate         â”‚                         â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
       â”‚                           â”‚                         â”‚
       â”‚   5. Approve & Merge PR   â”‚                         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
       â”‚                      â”‚  Apply (Dev)  â”‚              â”‚
       â”‚                      â”‚  Auto-Deploy  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                      â”‚               â”‚  Create       â”‚
       â”‚                      â”‚               â”‚  Resources    â”‚
       â”‚                      â”‚               â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   Success     â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
       â”‚                      â”‚  Plan (Staging)  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                      â”‚   (Triggered)    â”‚  Terraform â”‚
       â”‚                      â”‚                  â”‚    Plan    â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
       â”‚                      â”‚ Approval Required â”‚          â”‚
       â”‚                      â”‚   (1 Reviewer)    â”‚          â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
       â”‚                           â”‚                         â”‚
       â”‚   6. Approve Staging      â”‚                         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
       â”‚                      â”‚ Apply (Staging) â”‚            â”‚
       â”‚                      â”‚    Deploys      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  Resources â”‚
       â”‚                           â”‚            <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                           â”‚                         â”‚
       â”‚   7. Manual Deploy Prod   â”‚                         â”‚
       â”‚   (Workflow Dispatch)     â”‚                         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
       â”‚                      â”‚  Plan (Prod)      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                      â”‚                   â”‚  Plan     â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
       â”‚                      â”‚ Approval Required â”‚          â”‚
       â”‚                      â”‚  (2 Reviewers +   â”‚          â”‚
       â”‚                      â”‚   5 min wait)     â”‚          â”‚
       â”‚                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
       â”‚                           â”‚                         â”‚
       â”‚   8. Approve Production   â”‚                         â”‚
       â”‚   (2 approvers)           â”‚                         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
       â”‚                           â”‚                         â”‚
       â”‚                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
       â”‚                      â”‚  Apply (Prod)   â”‚            â”‚
       â”‚                      â”‚   Deploys       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  Resources â”‚
       â”‚                                        <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                                     â”‚
```

## ðŸ“Š Workflow Stages Breakdown

### Stage 1: Validation (Every Trigger)

```
Pull Request / Push
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Checkout   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Format    â”‚
â”‚   Check     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Terraform  â”‚
â”‚    Init     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Terraform  â”‚
â”‚  Validate   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
    âœ… Pass / âŒ Fail
```

### Stage 2: Security Scanning (Parallel)

```
    Validation Pass
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Checkov â”‚ â”‚ tfsec  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚         â”‚
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    Results to GitHub
    Security Tab
```

### Stage 3: Cost Estimation (Pull Requests Only)

```
Pull Request Only
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Infracost  â”‚
â”‚   Setup     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Generate   â”‚
â”‚  Cost Data  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Comment   â”‚
â”‚   on PR     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Stage 4: Environment Deployment

#### Development (Auto-Deploy)

```
Merge to Main
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Plan Dev   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save Plan   â”‚
â”‚  Artifact   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Apply Dev  â”‚  âš¡ Automatic
â”‚  (No Wait)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
    âœ… Deployed
```

#### Staging (Manual Approval)

```
Merge to Main
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Plan Staging â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save Plan   â”‚
â”‚  Artifact   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Wait for  â”‚  â¸ï¸ Manual
â”‚   Approval  â”‚     Step
â”‚ (1 Person)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Apply Stagingâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
    âœ… Deployed
```

#### Production (Strict Approval)

```
Manual Trigger Only
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Plan Prod  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Save Plan   â”‚
â”‚  Artifact   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Wait for  â”‚  â¸ï¸ Manual
â”‚  2 Approvalsâ”‚     Step
â”‚ + 5 min waitâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Apply Prod  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
    âœ… Deployed
```

## ðŸŽ¯ Trigger Patterns

### Pattern 1: Pull Request Review

```
Developer â†’ PR â†’ GitHub Actions
                      â”‚
                 â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”
                 â”‚    â”‚    â”‚
            Validate Security Cost
                 â”‚    â”‚    â”‚
                 â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜
                      â”‚
                 Plan (Dev)
                      â”‚
                 Comment on PR
                      â”‚
              Developer Reviews
                      â”‚
                Merge or Update
```

### Pattern 2: Automatic Dev Deploy

```
Merge to Main â†’ GitHub Actions
                      â”‚
                 â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”
                 â”‚    â”‚    â”‚
            Validate Security
                 â”‚    â”‚    â”‚
                 â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜
                      â”‚
                 Plan (Dev)
                      â”‚
                 Apply (Dev) â† Automatic
                      â”‚
                   Success!
```

### Pattern 3: Staging Deployment

```
After Dev Deploy â†’ GitHub Actions
                      â”‚
                 Plan (Staging)
                      â”‚
                  Pause â¸ï¸
                      â”‚
              Approval Request
                      â”‚
           Team Member Approves âœ…
                      â”‚
                Apply (Staging)
                      â”‚
                   Success!
```

### Pattern 4: Production Deployment

```
Manual Trigger â†’ GitHub Actions
                      â”‚
                 Plan (Prod)
                      â”‚
                  Pause â¸ï¸
                      â”‚
           2 Team Members Approve âœ…
                      â”‚
              Wait 5 Minutes â±ï¸
                      â”‚
                 Apply (Prod)
                      â”‚
                   Success!
```

## ðŸ” Environment Protection Rules

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Development                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Required Reviewers:         0                   â”‚
â”‚ Wait Timer:                 0 minutes           â”‚
â”‚ Deployment Branches:        Any                 â”‚
â”‚ Auto-Deploy:                âœ… Yes               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Staging                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Required Reviewers:         1                   â”‚
â”‚ Wait Timer:                 0 minutes           â”‚
â”‚ Deployment Branches:        main only           â”‚
â”‚ Auto-Deploy:                âŒ No                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Production                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Required Reviewers:         2                   â”‚
â”‚ Wait Timer:                 5 minutes           â”‚
â”‚ Deployment Branches:        main only           â”‚
â”‚ Auto-Deploy:                âŒ No                â”‚
â”‚ Prevent Self-Review:        âœ… Yes               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“‹ Workflow Decision Tree

```
                    Workflow Triggered
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                    â”‚             â”‚
              Pull Request    Push/Manual
                    â”‚             â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”        â”‚
            â”‚            â”‚        â”‚
        Validate    Security      â”‚
            â”‚            â”‚        â”‚
            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚
                  â”‚               â”‚
              Cost Est.       Validate
                  â”‚               â”‚
              Plan Dev        Security
                  â”‚               â”‚
            Comment PR        Plan Dev
                  â”‚               â”‚
                STOP       â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚               â”‚
                       Apply Dev       Plan Others
                           â”‚               â”‚
                        Success      Wait Approval
                                          â”‚
                                      Apply When
                                      Approved
```

## ðŸš€ Quick Reference

| Event                | Validation | Security | Cost | Dev Plan | Dev Apply | Staging Plan | Staging Apply | Prod Plan | Prod Apply |
| -------------------- | ---------- | -------- | ---- | -------- | --------- | ------------ | ------------- | --------- | ---------- |
| **PR**               | âœ…         | âœ…       | âœ…   | âœ…       | âŒ        | âŒ           | âŒ            | âŒ        | âŒ         |
| **Push to main**     | âœ…         | âœ…       | âŒ   | âœ…       | âœ… Auto   | âœ…           | â¸ï¸ Wait       | âŒ        | âŒ         |
| **Manual (Dev)**     | âœ…         | âœ…       | âŒ   | âœ…       | âœ… Auto   | âŒ           | âŒ            | âŒ        | âŒ         |
| **Manual (Staging)** | âœ…         | âœ…       | âŒ   | âŒ       | âŒ        | âœ…           | â¸ï¸ Wait       | âŒ        | âŒ         |
| **Manual (Prod)**    | âœ…         | âœ…       | âŒ   | âŒ       | âŒ        | âŒ           | âŒ            | âœ…        | â¸ï¸ Wait    |

Legend:

- âœ… Runs automatically
- âŒ Does not run
- â¸ï¸ Runs but waits for approval

---

This visual guide helps understand the complete deployment automation flow!
